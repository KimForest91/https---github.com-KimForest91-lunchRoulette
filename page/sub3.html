<!DOCTYPE html>
<html lang="ko">
  <head>
<!--     <base href="/"> -->
    <meta charset="utf-8" />
    <title>sub1 | forestKim</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <meta name="apple-mobile-web-app-title" content="forestKim" />                                     
    <meta name="description" content="forestKim" />
    <link rel="stylesheet" href="./../assets/lib/fa/css/all.min.css" />
    <link rel="stylesheet" href="./../css/web-font.css" />
    <link rel="stylesheet" href="../css/reset.css" />
    <link rel="stylesheet" href="../css/style-pc.css" media="all and (min-width: 1024.0px)" />
    <link rel="stylesheet" href="../css/style-m.css" media="all and (max-width: 1023.9px)" />
    <script src="../js/jquery-3.6.1.min.js"></script>
    <script src="../js/common.js"></script>
  </head>
  <body class="sub1">
  
    <div id="wrapper">
      <a href="#main" id="skip-nav">본문 바로가기</a>
      <header id="header">

      </header>

      <main id="main">
        <button id="button">10년 젊어지는 버튼</button>
      </main>

      <footer id="footer">

      </footer>
    </div>
<script>
'use strict';
/*   
class Dog {
  constructor(type, color){
    this.type = type;
    this.color = color;
  }
  addAge() {
    if(this instanceof Cat) {
      this.age++
    }
  }
}

class Cat extends Dog {
  constructor(type, color, age) {
    super(type, color);
    this.age = age;
  }
}
var dog1 = new Dog('믹스견', '하양');


class Unit {
  constructor() {
    this.hp = 100;
    this.attack = 5;
  }
  get battlePoint() {
    return this.hp + this.attack;
  }
  set heal(a) {
    this.hp += a;
  }
}

let hydra = new Unit();

console.log(hydra.battlePoint);
hydra.heal = 50;


let data = {
  odd : [],
  even : [],
  setter : function(...number){
    number.forEach((a)=>{
      if ( a % 2 == 1 ) {
        this.odd.push(a)  //홀수일때
      } else {
        this.even.push(a)  //짝수일때
      }
    });
  }
};

data.setter(1,2,3);


var arr = {
  odd : [1,3],
  even : [2,4,6],
  get getter함수(){
    return [...this.odd, ...this.even ].sort()
  }
};

console.log(arr.getter함수);

*/


/* promise 문법 익히기 */

/* let prom = new Promise((resolve, reject) => {
  setTimeout(function() {
    resolve(difficult);
  }, 3000);
  let difficult = 1 + 1;
  // resolve(difficult);
});


prom.then(function(result) {
  console.log('성공성공성공!!!!!!!!!!!!!!!!!! 결과는?! ' + result);
}).catch(function() {
  console.log('실패실패실패ㅠㅠㅠㅠㅠㅠㅠㅠㅠㅠㅠㅠㅠㅠ');
}) */

// .then 대신에 .catch를 사용할 수도 있음. promise가 실패해도 실행되기 때문
// finally  


async function add() {
  let prom = new Promise(function(success , fail) {
    let difficult = 1 + 1;
    success('성공성공');
  });

  try {
    let result = await prom;
    console.log(result);
  } catch {
    console.log('프로미스 연산 실패');
  }


/*   let result = await prom;   //실패하면 에러나고 멈춤
  console.log(result); */

}

// add().then(function(result) {
//   console.log(result);
// });

// add();


async function event() {
  let prom = new Promise(function(success , fail) {
    document.getElementById('button').addEventListener('click', function() {
      success('성공성공 당신은 10년 더 어려지셨습니다!');
    });
  });

  let success = await prom;
  console.log(success);
}

event();




/* 코딩애플 for in, for of */
/* var 어레이 = [2,3,4,5];
for (var 자료 of 어레이) {
  console.log(자료);
} */

let newValue;
let newKey;

var products = [
  {
    name1 : 'chair',
    price1 : 7000,
  },
  {
    name2 : 'sofa',
    price : 5000,
  },
  {
    name1 : 'desk',
    price3 : 9000,
  },
]; 

for (let item of products) {
  for (let key in item) {
     //마지막글자를 숫자로변환했을 때 NaN이 안나오면 (숫자면)
     if (isNaN(parseInt(key.slice(-1))) == false ) {
       newValue = item[key];
       newKey = key.slice(0, -1); 
       item[newKey] = newValue;
       delete item[key]; 
     }
  }
}

console.log(products);



</script>
<script type="module">
  // import text from './../js/common.js';



  // console.log(text);
</script>  

  </body>
</html>



